# Data Model: ChatKit Frontend

## Conversation Entity
- **Purpose**: Represents a chat session between user and AI assistant
- **Fields**:
  - conversation_id (integer): Unique identifier for the conversation, returned by backend
  - user_id (string): Authenticated user identifier from JWT token
  - created_at (timestamp): Timestamp when conversation was initiated
- **Relationships**: Belongs to a single authenticated user
- **Validations**:
  - conversation_id must be provided by backend
  - user_id must match authenticated user
  - created_at is auto-generated by backend

## Message Entity (UI-only state)
- **Purpose**: Represents individual messages in the conversation (client-side only)
- **Fields**:
  - role (string): Either "user" (for user messages) or "assistant" (for AI responses)
  - content (string): Text content of the message
  - timestamp (timestamp): Client-side timestamp when message was created/sent
  - status (string): "sent", "sending", or "error" for UI state management
- **Validations**:
  - content must not be empty or whitespace only
  - role must be either "user" or "assistant"
  - timestamp is auto-generated when message is created
  - status is managed by UI state

## Session Entity (Integration)
- **Purpose**: Represents the authenticated user session
- **Fields**:
  - user_id (string): User identifier from JWT token
  - access_token (string): JWT token for API authentication
  - expires_at (timestamp): Token expiration time
- **Relationships**: Links frontend authentication to backend user identity
- **Validations**:
  - access_token must be valid JWT
  - user_id must match backend user record
  - Session must be active when making API calls